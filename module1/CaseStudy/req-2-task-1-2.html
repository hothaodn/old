<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Requirement 2</title>
    <style>
        p, table, button { color:black; font-weight: bold}
        fieldset { border-style: dashed; background-color: white; opacity: 0.8; margin: 30px; }
        fieldset label{ margin: 5%; font-weight: bold; color: black;}
        body {
            background-image: url("https://furamavillasdanang.com/wp-content/uploads/2016/10/beach-front-villas-exterior-1-1.jpg");
            text-align: left;
        }
    </style>
</head>
<body>

    <h1 style="color:saddlebrown; text-align: center">WELCOME TO FURAMA RESOST !</h1>

    <fieldset>
        <legend><h3>Personal Information</h3></legend>

        <label>Full Name*</label>
        <input type="text" id="fullName"/><br/>

        <label>Identify Number*</label>
        <input type="text" id="idNumber"/><br/>

        <label>Date of Birth*</label>
        <input type="date" id="dateOfBirth"/><br/>

        <label>Email*</label>
        <input type="email" id="email"/><br/>

        <label>Address*</label>
        <input type="text" id="address"/><br/>
    </fieldset>

    <fieldset>
        <legend><h3>Booking</h3></legend>
        <label>Customer Type</label>
            <select id="typeCustomer">
                <option>Member</option>
                <option>Silver</option>
                <option>Gold</option>
                <option>Platinum</option>
                <option>Diamond</option>
            </select> <br/>

        <label>Discount (%)*</label>
        <input type="number" id="discount"/><br/>

        <label>Number of Guests</label>
        <input type="number" id="numGuest"/><br/>

        <label>Number of Nights*</label>
        <input type="number" id="numNight"/><br/>

        <label>Type of Room*</label>
        <select id="typeRoom">
            <option>Villa</option>
            <option>House</option>
            <option>Room</option>
        </select> <br/>

        <label>Type of Service</label>
            <select id="typeService">
                <option>Normal</option>
                <option>Business</option>
                <option>V.I.P.</option>
            </select> <br/>

        <table style="width:400px; margin: 5%;"  border="1">
            <caption>Room Rate</caption>
            <thead>
            <td style="width:40%"> Room Type </td>
            <td style="width:60%"> Price (per night) </td>
            </thead>

            <tbody>
            <td>Villa</td>
            <td>500$</td>
            </tbody>

            <tbody>
            <td>House</td>
            <td>300$</td>
            </tbody>

            <tbody>
            <td>Room</td>
            <td>100$</td>
            </tbody>
        </table>
        &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;
        <button type="button" onclick = "haveToPay()">Submit</button>
        <button type="button" onclick = "editInfo()">Edit Info</button>
        <p id = "hienthiThongTin"></p>
        <p id = "hienthi"></p>

    </fieldset>

    <script>


        const rateVilla = 500 ; //tien thue villa 500dollars/night
        const rateHouse = 300 ; //tien thue house 300dollars/night
        const rateRoom = 100 ; //tien thue room 100dollars/night
        let totalPay = 0; //tong so tien phai tra

        function haveToPay() {
            let gettypeRoom = document.getElementById('typeRoom').value; //loai phong
            let getNumNight = parseInt(document.getElementById("numNight").value) ; //so ngay o //bitnh thuong
            let getDiscount = parseInt(document.getElementById("discount").value) /100  ; //discount

            switch (gettypeRoom){
                case 'House':
                    totalPay = rateHouse * getNumNight * ( 1 - getDiscount );
                    break;
                case 'Villa':
                    totalPay = rateVilla * getNumNight * ( 1 - getDiscount );
                    break;
                case 'Room':
                    totalPay = rateRoom * getNumNight * ( 1 - getDiscount );
                    break;
            }
            document.getElementById("hienthi").innerHTML = "Total Amount: " + totalPay + "$ for " + gettypeRoom + " in " +getNumNight + " night(s)";


            //hien thi tat ca thong tin user da nhap
            document.getElementById("hienthiThongTin").innerHTML =
                "Hello Mr./Ms. " + document.getElementById('fullName').value + "<br/>"
                + "Identify Number is " + document.getElementById('idNumber').value
                + " and date of birth is " + document.getElementById('dateOfBirth').value
                + ". Your email: " + document.getElementById('email').value
                + " and address is " + document.getElementById('address').value + "<br/>";

        }

        /* REQUIREMENT 2
        Edit Information Customer.
            Cho phép chỉnh sửa thông tin của Customer. Sau đó hiển thị lại toàn bộ thông tin của Customer sau khi đã được chỉnh sửa
        (Sau khi chọn edit hiển thị 1 menu con show thuộc tính và giá trị của thuộc tính cho phép người dùng lựa chọn thuộc tính muốn chỉnh sửa,
        nếu sự lựa chọn của người dùng không nằm trong menu con hiển thị “Failed”)
        */

        function editInfo() {
            //alert ("Which information do you want to edit?");
            let menuNumber = parseInt(prompt("Which information do you want to edit? \nPlease choose the number and then re-fill the form: \n1-Full Name \n2-Identify Number " +
                "\n3-Date of Birth \n4-Email \n5-Address \n6-Customer Type \n7-Discount \n8-Number of Guests \n9-Number of Nights \n10-Type of Room \n11-Type of Service"));

            switch ( menuNumber ) {
                case 1:
                    document.getElementById('fullName').value = "";
                    break;
                case 2:
                    document.getElementById('idNumber').value = "";
                    break;
                case 3:
                    document.getElementById('dateOfBirth').value = "";
                    break;
                case 4:
                    document.getElementById('email').value = "";
                    break;
                case 5:
                    document.getElementById('address').value = "";
                    break;
                case 6:
                    document.getElementById('typeCustomer').value = "";
                case 7:
                    document.getElementById('discount').value = "";
                    break;
                case 8:
                    document.getElementById('numGuest').value = "";
                    break;
                case 9:
                    document.getElementById('numNight').value = "";
                    break;
                case 10:
                    document.getElementById('typeRoom').value = "";
                    break;
                case 11:
                    document.getElementById('typeService').value = "";
                    break;
                default:
                    alert("Failed");
            }
        }
    </script>

</body>
</html>